<h2>视频广告 iOS SDK 1.x 开发文档</h2>

<h3>1.开发环境</h3>

<ul>
	<li>xcode6或更高版本。</li>
	<li>运行环境为ios6.0或更高版本。</li>
</ul>

<h3>2.从sunteng官网获取PublisherID &amp; PlacementID &amp; AppID</h3>

<figure><img src="pic1.png"/></figure>

<h3>3.添加SDK到项目中</h3>

<blockquote>
<p>SDK 的发行版本中需要添加到项目中的文件包括1个静态库、1个头文件以及1个 Bundle 文件。 </p>
</blockquote>

<ul>
	<li>将上述文件,添加到您的项目中。建议直接将“MobileAdSDK”文件夹添加到项目中。 包含的内容,如下图:</li>
</ul>

<figure><img src="pic2.png"/></figure>

<ul>
	<li>需要添加的Framework：</li>
</ul>

<figure><img src="pic3.png"/></figure>

<ul>
	<li>更改导入静态库设置，点击程序Target文件，选择Build Settings标签页，找到Linking下面的Other Linker Flags，添加参数-all <em> </em>load。</li>
</ul>

<figure><img src="pic4.png"/></figure>

<ul>
	<li>iOS8中获取地理位置方法,在 info.plist里加入对应的缺省字段 ，值设置为YES。</li>
</ul>

<blockquote>
<p>NSLocationWhenInUseUsageDescription //允许在前台获取GPS的描述</p>

<p>NSLocationAlwaysUsageDescription //允许在前、后台获取GPS的描述 </p>

<p>说明:由于部分广告会定向投递到某些城市, SDK 需要获取地理位置以支持广告的定向投放。 </p>
</blockquote>

<h3>4.视频广告的使用</h3>

<h6>1.在应用初始化中初始化视频sdk</h6>

<pre><code>[STVideoSDK initSDKWithPublishedId:@&quot;1234&quot; AppId:@&quot;2345&quot; PlacementId:@“1&quot;];
</code></pre>

<h6>2.需要播放视频的地方调用</h6>

<pre><code>[STVideoSDK videoPlay:self videoPlayFinishCallBackBlock:^(int state){
		 if (1 == state)
		 {
			 NSLog(@“视频播放结束！&quot;);
		 }
	  }];
</code></pre>

<p>state状态码定义: </p>
<p>0 其他错误</p>
<p>1 广告视频播放完成，SDK关闭</p>
<p>2 广告视频被跳过，SDK关闭</p>
<p>3 广告素材下载失败，SDK关闭</p>
<p>4 广告数据获取成功，后端返回无广告素材</p>
<p>5 网络问题，广告API调用失败</p>
